(self.webpackChunkpartners=self.webpackChunkpartners||[]).push([[577],{1577:(b,g,l)=>{l.r(g),l.d(g,{HomeModule:()=>S});var c=l(4888),m=l(140),d=l(3635),a=l(525),e=l(5760),h=l(3920),p=l(889);function f(n,u){1&n&&e.\u0275\u0275element(0,"h1")}let C=(()=>{class n{constructor(t,r,i){this.fb=t,this.partnersService=r,this.modalService=i,this.action="create",this.partner={name:"",description:"",repositoryGit:"",urlDoc:""}}ngOnInit(){this.createForm(),"edit"===this.action&&this.partner&&this.partnerForm.patchValue(this.partner)}createForm(){this.partnerForm=this.fb.group({name:["",a.Validators.required],description:["",a.Validators.required],repositoryGit:["",a.Validators.required],urlDoc:["",a.Validators.required]})}closeModal(){this.modalService.closeModal()}onSubmit(){this.partnerForm.valid&&(this.submit$="edit"===this.action&&this.partner.id?this.partnersService.updatePartner(this.partner?.id,this.partnerForm.value).pipe((0,d.tap)(()=>this.closeModal())):this.partnersService.createPartner(this.partnerForm.value).pipe((0,d.tap)(()=>this.closeModal())))}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(a.FormBuilder),e.\u0275\u0275directiveInject(h.U),e.\u0275\u0275directiveInject(p.ModalService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-change-partner"]],inputs:{action:"action",partner:"partner"},decls:25,vars:6,consts:[[1,"modal-backdrop",3,"click"],[1,"modal-content"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["for","companyName"],["id","companyName","formControlName","name","type","text"],["id","companyName","formControlName","description","type","text"],["id","companyName","formControlName","repositoryGit","type","text"],["id","companyName","formControlName","urlDoc","type","text"],["type","submit"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("click",function(){return i.closeModal()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"main",1)(2,"h2"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return i.onSubmit()}),e.\u0275\u0275template(5,f,1,0,"h1",3),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div")(8,"label",4),e.\u0275\u0275text(9,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div")(12,"label",4),e.\u0275\u0275text(13,"Description:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div")(16,"label",4),e.\u0275\u0275text(17,"Repo:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"input",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div")(20,"label",4),e.\u0275\u0275text(21,"urlDoc:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"input",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"button",9),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()()()),2&r&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate("edit"===i.action?"Edit Company":"Create Company"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",i.partnerForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,4,i.submit$)),e.\u0275\u0275advance(19),e.\u0275\u0275textInterpolate("edit"===i.action?"Save Changes":"Create Company"))},dependencies:[c.NgIf,a.\u0275NgNoValidate,a.DefaultValueAccessor,a.NgControlStatus,a.NgControlStatusGroup,a.FormGroupDirective,a.FormControlName,c.AsyncPipe],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1040}.modal-content[_ngcontent-%COMP%]{position:fixed;width:540px;height:280px;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:40px;z-index:1050;border-radius:30px}"]})}return n})();function _(n,u){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14)(1,"main")(2,"p"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"footer")(9,"button",5),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.openChangeModal("edit",o))}),e.\u0275\u0275text(10,"editar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",5),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.openExampleModal(o.id))}),e.\u0275\u0275text(12,"deletar"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=u.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.repositoryGit)}}function v(n,u){if(1&n&&(e.\u0275\u0275elementStart(0,"main",12),e.\u0275\u0275template(1,_,13,3,"div",13),e.\u0275\u0275pipe(2,"slice"),e.\u0275\u0275elementEnd()),2&n){const t=u.ngIf,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind3(2,1,t,(r.currentPage-1)*r.pageSize,r.currentPage*r.pageSize))}}const P=[{path:"",component:(()=>{class n{constructor(t,r,i,o,s){this.partnersService=t,this.modalService=r,this.confirmService=i,this.route=o,this.router=s,this.title="extPartners",this.currentPage=1,this.pageSize=6,this.collectionSize=0,this.total=0,this.partnerId=""}ngOnInit(){this.route.queryParamMap.subscribe(t=>{console.log(t.params.page),this.currentPage=t.params.page?+t.params.page:1}),this.getPartners(),this.confirmService.confirmTrigger$.subscribe(t=>{this.deletePartner(t)})}getPartners(){this.partners$=this.partnersService.getPartners().pipe((0,d.map)(t=>(this.total=Math.ceil(t.length/this.pageSize),t)))}deletePartner(t){this.partners$=this.partnersService.deletePartner(t).pipe((0,d.tap)(r=>{this.currentPage=this.currentPage-1,this.total=Math.ceil(r.length/this.pageSize)}))}onInputChange(t){t||this.partnersService.setFilter(null)}search(){this.partnersService.setFilter(this.partnerId),this.currentPage=1,this.changePage()}openExampleModal(t){this.confirmService.open({data:t})}openChangeModal(t,r){this.modalService.openModal(C,{action:t,partner:r})}changePage(){this.router.navigate([],{relativeTo:this.route,queryParams:{page:this.currentPage},queryParamsHandling:"merge"})}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(h.U),e.\u0275\u0275directiveInject(p.ModalService),e.\u0275\u0275directiveInject(p.ConfirmService),e.\u0275\u0275directiveInject(m.ActivatedRoute),e.\u0275\u0275directiveInject(m.Router))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-home"]],decls:25,vars:6,consts:[[1,"root"],[1,"content",2,"display","flex","flex-direction","column","justify-content","center"],[1,"heading"],[1,"table"],[1,"table-heading"],[3,"click"],[1,"ph","ph-plus"],[1,"filters"],["id","partnerId","placeholder","Digite um nome","finInput","",3,"ngModel","ngModelChange","input"],["class","table-content",4,"ngIf"],[1,"table-footer"],[3,"currentPage","total","currentPageChange","changePage"],[1,"table-content"],["finCell","",4,"ngFor","ngForOf"],["finCell",""]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"main",0)(1,"section",1)(2,"header",2)(3,"h1"),e.\u0275\u0275text(4,"Bem vindo!"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h2"),e.\u0275\u0275text(6,"Voc\xea est\xe1 na tela de partners"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p"),e.\u0275\u0275text(8,"Aqui voc\xea consegue ger\xeanciar os parceiros da sua conta"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"main",3)(10,"header",4)(11,"header")(12,"h1"),e.\u0275\u0275text(13,"Partners"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",5),e.\u0275\u0275listener("click",function(){return i.openChangeModal("create")}),e.\u0275\u0275element(15,"i",6),e.\u0275\u0275text(16," Novo Parceiro"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"section",7)(18,"input",8),e.\u0275\u0275listener("ngModelChange",function(s){return i.partnerId=s})("input",function(){return i.onInputChange(i.partnerId)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"button",5),e.\u0275\u0275listener("click",function(){return i.search()}),e.\u0275\u0275text(20,"Search"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(21,v,3,5,"main",9),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementStart(23,"footer",10)(24,"pagination",11),e.\u0275\u0275listener("currentPageChange",function(s){return i.currentPage=s})("changePage",function(){return i.changePage()}),e.\u0275\u0275elementEnd()()()()()),2&r&&(e.\u0275\u0275advance(18),e.\u0275\u0275property("ngModel",i.partnerId),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(22,4,i.partners$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("currentPage",i.currentPage)("total",i.total))},dependencies:[c.NgForOf,c.NgIf,p.PaginationComponent,p.FinInputDirective,p.FinCellDirective,a.DefaultValueAccessor,a.NgControlStatus,a.NgModel,c.AsyncPipe,c.SlicePipe],styles:[".heading[_ngcontent-%COMP%]{display:grid;margin:70px 0;gap:4px}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-weight:100}.heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px}.heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7b7b7b;font-size:24px}.table[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:200px 1fr 150px;background-color:#f2f2f2;padding:30px;border-radius:50px}.table-heading[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.table-heading[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}.table-heading[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ea6323;color:#fff;padding:14px;border:none;border-radius:8px;font-size:22px}.table-heading[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr) .5fr;grid-template-rows:1fr;gap:40px}@media (max-width: 720px){.table-heading[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:repeat(3,1fr)}}.table-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:auto;gap:20px;min-height:50vh}@media (max-width: 1080px){.table-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.table-footer[_ngcontent-%COMP%]{align-self:center;justify-self:center;width:327px;padding:20px;border-radius:40px}"]})}return n})()}];let x=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.RouterModule.forChild(P),m.RouterModule]})}return n})(),M=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,a.ReactiveFormsModule]})}return n})(),S=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,x,p.FinUiModule,M,a.FormsModule]})}return n})()}}]);